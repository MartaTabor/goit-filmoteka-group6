function e(e){return e&&e.__esModule?e.default:e}var t=globalThis,n={},a={},o=t.parcelRequired7c6;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var s=Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){a[e]=t},t.parcelRequired7c6=o),o.register,o("dgb2p");var s=o("2AKVI"),i=o("46SdE");const l=document.getElementById("signUp"),c=document.getElementById("signIn"),d=document.getElementById("container");l.addEventListener("click",()=>{d.classList.add("right-panel-active")}),c.addEventListener("click",()=>{d.classList.remove("right-panel-active")});const r=(0,s.initializeApp)({apiKey:"AIzaSyDrsw02tJfVOg5942KrmMQDgPqT2tORfaM",authDomain:"goit-filmoteka-group6.firebaseapp.com",projectId:"goit-filmoteka-group6",storageBucket:"goit-filmoteka-group6.appspot.com",messagingSenderId:"259145174211",appId:"1:259145174211:web:3abb6bd76e9ef12b746676",measurementId:"G-7R0DRVYQHE"}),m=(0,i.getAuth)(r);document.getElementById("signup-form").addEventListener("submit",function(e){e.preventDefault();let t=document.getElementById("signup-email").value,n=document.getElementById("signup-password").value;m.createUserWithEmailAndPassword(t,n).then(e=>{console.log("Rejestracja udana",e)}).catch(e=>{console.error("Błąd rejestracji",e)})}),document.getElementById("login-form").addEventListener("submit",function(e){e.preventDefault();let t=document.getElementById("login-email").value,n=document.getElementById("login-password").value;m.signInWithEmailAndPassword(t,n).then(e=>{console.log("Logowanie udane",e)}).catch(e=>{console.error("Błąd logowania",e)})}),document.getElementById("logout-btn").addEventListener("click",function(){(0,i.signOut)(m).then(()=>{console.log("Użytkownik wylogowany")}).catch(e=>{console.error("Błąd wylogowywania",e)})}),(0,i.onAuthStateChanged)(m,e=>{e?(console.log("Użytkownik zalogowany",e),document.getElementById("logout-btn").style.display="block"):(console.log("Użytkownik wylogowany"),document.getElementById("logout-btn").style.display="none")});const u=document.querySelector(".icon-user"),p=document.querySelector(".log-reg"),g=document.getElementsByClassName("close")[0];u.addEventListener("click",()=>{p.classList.toggle("show-log-reg-window")}),u.onclick=function(){p.style.display="block"},g.onclick=function(){p.style.display="none"},window.onclick=function(e){e.target==p&&(p.style.display="none")},o("4boOf"),o("40lI0"),o("bMpwc");var v=o("hGVxz"),y=o("dgb2p");async function f(e){let t;let n=document.querySelector(".loader-container"),a=document.querySelector(".home-film-list"),o=e.data.results;console.log(o),n.classList.remove("visually-hidden");let s=await (0,y.getGenres)(),i={};s.data.genres.forEach(e=>{i[e.id]=e.name});let l=o.map(e=>{let n=e.genre_ids.map(e=>i[e]).slice(0,2).join(", ");return t=null!=e.poster_path?`https://image.tmdb.org/t/p/original/${e.poster_path}`:"https://as2.ftcdn.net/v2/jpg/04/00/24/31/1000_F_400243185_BOxON3h9avMUX10RsDkt3pJ8iQx72kS3.jpg",`
        <li class="home-film-item" data-index="${e.id}" data-modal-open>
          <img class="home-film-image" src="${t}" alt="${e.title}" width="200px" hight="300px">
          <div class="home-film-details">
            <h2 class="home-film-title">${e.title}</h2>
            <p class="home-film-info">
              <span class="home-film-type">${n}</span> |
              <span class="home-film-year">${e.release_date.slice(0,4)}</span>
              <span class="home-film-rating">${e.vote_average.toFixed(1)}</span>
            </p>
          </div>
        </li>`});n.classList.add("visually-hidden"),a.innerHTML=l.join("")}let h=1;const L=async(e=1)=>{try{let t=await (0,v.default).get(`https://api.themoviedb.org/3/movie/popular?api_key=c2f18aa0c4ee94c87f87834077fd721a&language=en-EN&per_page=20&page=${e}`);f(t),h=500,C(e,h,L)}catch(e){console.error("Error fetching data:",e)}};L();var y=o("dgb2p"),E=o("lzX4I"),y=o("dgb2p");const w=document.querySelector("#search-form"),b=document.querySelector(".errorText");function k(t,n){""==w.elements.searchQuery.value.trim()?e(E).Notify.warning("Enter some text..."):(0,y.fetchFilmsByQuery)(t,n).then(t=>{if(0==t.data.total_results)b.classList.remove("hiddenVisibility");else{b.classList.add("hiddenVisibility"),e(E).Notify.success(`Znaeziono: ${t.data.total_results}`);let a=t.data.total_pages;f(t),C(n,a)}}).catch(e=>{})}w.addEventListener("submit",e=>{e.preventDefault(),k(w.elements.searchQuery.value.trim().split(" ").join("%20"),1)});const I=document.getElementById("prev"),B=document.getElementById("next"),x=document.getElementById("pagination"),S=document.querySelector("#search-form");let _=1,j=1;const q=async e=>{await L(e),j=500,C(_=e,j)};function C(e,t){x.innerHTML="";let n=document.createDocumentFragment(),a=D("1",1);if(1===e?(a.classList.add("active"),I.removeEventListener("click",$),I.classList.add("disabled")):(a.classList.remove("active"),I.addEventListener("click",M),I.classList.remove("disabled")),a.classList.add("pagination-button"),n.appendChild(a),t>3&&e>2){let e=document.createElement("span");e.textContent="...",e.classList.add("dots"),e.classList.add("pagination-span"),n.appendChild(e)}for(let a=Math.max(2,e-2);a<=Math.min(e+2,t-1);a++){let t=D(a.toString(),a);a===e&&t.classList.add("active"),n.appendChild(t),t.classList.add("pagination-button")}if(t>3&&e<t-1){let e=document.createElement("span");e.textContent="...",e.classList.add("dots"),e.classList.add("pagination-span"),n.appendChild(e)}if(t>1){let a=D(t.toString(),t);e===t?(a.classList.add("active"),B.removeEventListener("click",$),B.classList.add("disabled")):(a.classList.remove("active"),B.addEventListener("click",$),B.classList.remove("disabled")),n.appendChild(a),a.classList.add("pagination-button")}else B.removeEventListener("click",$),B.classList.add("disabled"),I.removeEventListener("click",$),I.classList.add("disabled");x.appendChild(n)}function D(e,t){let n=document.createElement("button");return n.textContent=e,n.addEventListener("click",()=>{T(t),window.scrollTo(0,0)}),n}function $(){_<j&&(T(_+1),window.scrollTo(0,0))}function M(){_>1&&(T(_-1),window.scrollTo(0,0))}function T(e){_=e,""===S.elements.searchQuery.value.trim().split(" ").join("%20")?(console.log(`Paginacja po popular films pade: ${e}`),q(e)):(console.log(`Paginacja po search films pade: ${e}`),k(S.elements.searchQuery.value.trim().split(" ").join("%20"),e)),window.scrollTo(0,0)}q(_),o("7UJs8"),o("hHD3f");const O=document.querySelector(".to-top");window.addEventListener("scroll",()=>{if(document.querySelector("[data-modal]:not(.film-details-is-hidden)")){O.classList.remove("active");return}window.scrollY>215?O.classList.add("active"):O.classList.remove("active")}),document.body.addEventListener("click",e=>{e.target.closest("[data-modal-open]")&&O.classList.remove("active")}),document.addEventListener("click",e=>{let t=e.target.closest(".film-details-close"),n=document.querySelector("[data-modal]");(t||e.target===n)&&window.scrollY>215&&O.classList.add("active")}),o("cB4zx"),o("2AKVI"),o("46SdE");
//# sourceMappingURL=index.c29139e6.js.map
