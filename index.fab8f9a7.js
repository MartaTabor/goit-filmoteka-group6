function e(e){return e&&e.__esModule?e.default:e}var t=globalThis,a={},s={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in a)return a[e].exports;if(e in s){var t=s[e];delete s[e];var i={id:e,exports:{}};return a[e]=i,t.call(i.exports,i,i.exports),i.exports}var n=Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){s[e]=t},t.parcelRequired7c6=i),i.register,i("dgb2p"),i("kBG4Y"),i("4boOf"),i("40lI0"),i("bMpwc");var n=i("hGVxz"),l=i("dgb2p");async function o(e){let t;let a=document.querySelector(".loader-container"),s=document.querySelector(".home-film-list"),i=e.data.results;a.classList.remove("visually-hidden");let n=await (0,l.getGenres)(),o={};n.data.genres.forEach(e=>{o[e.id]=e.name});let d=i.map(e=>{let a=e.genre_ids.map(e=>o[e]).slice(0,2).join(", ");return t=null!=e.poster_path?`https://image.tmdb.org/t/p/original/${e.poster_path}`:"https://as2.ftcdn.net/v2/jpg/04/00/24/31/1000_F_400243185_BOxON3h9avMUX10RsDkt3pJ8iQx72kS3.jpg",`
            <li class="home-film-item" data-index="${e.id}" data-modal-open>
                <img class="home-film-image" src="${t}" alt="${e.title}" width="200px" height="300px">
                <div class="home-film-details">
                    <h2 class="home-film-title">${e.title}</h2>
                    <p class="home-film-info">
                        <span class="home-film-type">${a}</span> |
                        <span class="home-film-year">${e.release_date.slice(0,4)}</span>
                        <span class="home-film-rating">${e.vote_average.toFixed(1)}</span>
                    </p>
                </div>
            </li>`});a.classList.add("visually-hidden"),s.innerHTML=d.join("")}let d=1;const c=async(e=1)=>{try{let t=await (0,n.default).get(`https://api.themoviedb.org/3/movie/popular?api_key=c2f18aa0c4ee94c87f87834077fd721a&language=en-EN&per_page=20&page=${e}`);o(t),d=500,E(e,d,c)}catch(e){console.error("Error fetching data:",e)}};c();var l=i("dgb2p"),r=i("lzX4I"),l=i("dgb2p");const m=document.querySelector("#search-form"),p=document.querySelector(".errorText");function u(t,a){""===t?e(r).Notify.warning("Enter some text..."):(0,l.fetchFilmsByQuery)(t,a).then(t=>{if(0===t.data.total_results)p.classList.remove("hiddenVisibility");else{p.classList.add("hiddenVisibility"),e(r).Notify.success(`Znaleziono: ${t.data.total_results}`);let s=t.data.total_pages;o(t),E(a,s)}}).catch(e=>{})}m.addEventListener("submit",e=>{e.preventDefault(),u(m.elements.searchQuery.value.trim().split(" ").join("%20"),1)});const h=document.getElementById("prev"),f=document.getElementById("next"),v=document.getElementById("pagination"),g=document.querySelector("#search-form");let L=1,y=1;const b=async e=>{await c(e),y=500,E(L=e,y)};function E(e,t){v.innerHTML="";let a=document.createDocumentFragment(),s=x("1",1);if(1===e?(s.classList.add("active"),h.removeEventListener("click",_),h.classList.add("disabled")):(s.classList.remove("active"),h.addEventListener("click",w),h.classList.remove("disabled")),s.classList.add("pagination-button"),a.appendChild(s),t>3&&e>2){let e=document.createElement("span");e.textContent="...",e.classList.add("dots"),e.classList.add("pagination-span"),a.appendChild(e)}for(let s=Math.max(2,e-2);s<=Math.min(e+2,t-1);s++){let t=x(s.toString(),s);s===e&&t.classList.add("active"),a.appendChild(t),t.classList.add("pagination-button")}if(t>3&&e<t-1){let e=document.createElement("span");e.textContent="...",e.classList.add("dots"),e.classList.add("pagination-span"),a.appendChild(e)}if(t>1){let s=x(t.toString(),t);e===t?(s.classList.add("active"),f.removeEventListener("click",_),f.classList.add("disabled")):(s.classList.remove("active"),f.addEventListener("click",_),f.classList.remove("disabled")),a.appendChild(s),s.classList.add("pagination-button")}else f.removeEventListener("click",_),f.classList.add("disabled"),h.removeEventListener("click",_),h.classList.add("disabled");v.appendChild(a)}function x(e,t){let a=document.createElement("button");return a.textContent=e,a.addEventListener("click",()=>{k(t),window.scrollTo(0,0)}),a}function _(){L<y&&(k(L+1),window.scrollTo(0,0))}function w(){L>1&&(k(L-1),window.scrollTo(0,0))}function k(e){L=e,""===g.elements.searchQuery.value.trim().split(" ").join("%20")?b(e):(console.log(`Paginacja po search films pade: ${e}`),u(g.elements.searchQuery.value.trim().split(" ").join("%20"),e)),window.scrollTo(0,0)}b(L),i("7UJs8"),i("hHD3f"),i("3HnU4"),i("cB4zx"),i("2AKVI"),i("46SdE");
//# sourceMappingURL=index.fab8f9a7.js.map
