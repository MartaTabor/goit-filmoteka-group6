var e=globalThis,t={},a={},i=e.parcelRequired7c6;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in a){var i=a[e];delete a[e];var l={id:e,exports:{}};return t[e]=l,i.call(l.exports,l,l.exports),l.exports}var o=Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){a[e]=t},e.parcelRequired7c6=i),i.register;var l=i("hGVxz"),o=i("lzX4I");const s=document.querySelector("#search-form");async function r(){let e={method:"GET",url:"https://api.themoviedb.org/3/search/movie",params:{query:`${s.elements.searchQuery.value.trim().split(" ").join("%20")}`,include_adult:"false",language:"en-US",page:"1"},headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwNjRiYzVmYTA0ZTcwZWUwNmI1YmZjZmZkZDAwMjhmZiIsInN1YiI6IjY1ZjFiYzIwZDY0YWMyMDBjYTVkMWU2YSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.kSA66Srxuh9huCM-91QWv-1PAFYBxqjt-fFzzJb4bmg"}};(0,l.default).request(e).then(function(e){console.log(e.data)}).catch(function(e){console.error(e)})}s.addEventListener("submit",e=>{(e.preventDefault(),""==s.elements.searchQuery.value.trim())?(o&&o.__esModule?o.default:o).Notify.warning("Enter some text..."):r()}),i("kBG4Y"),i("4boOf"),i("40lI0"),i("bMpwc"),i("g1uI7");var l=i("hGVxz");const c=document.querySelector(".home-film-list"),n=document.querySelector(".loader-container");(async(e=1)=>{try{let t=await (0,l.default).get(`https://api.themoviedb.org/3/movie/popular?api_key=c2f18aa0c4ee94c87f87834077fd721a&language=en-EN&per_page=20&page=${e}`),a=0,i=t.data.results;console.log(i),n.classList.remove("visually-hidden");let o=await (0,l.default).get("https://api.themoviedb.org/3/genre/movie/list?api_key=c2f18aa0c4ee94c87f87834077fd721a&language=en-EN"),s={};o.data.genres.forEach(e=>{s[e.id]=e.name});let r=i.map(e=>{let t=e.genre_ids.map(e=>s[e]).slice(0,2).join(", ");return`
        <li class="home-film-item" data-index="${a++}" data-modal-open>
          <img class="home-film-image" src="https://image.tmdb.org/t/p/original/${e.poster_path}" alt="${e.title}">
          <div class="home-film-details">
            <h2 class="home-film-title">${e.title}</h2>
            <p class="home-film-info">
              <span class="home-film-type">${t}</span> |
              <span class="home-film-year">${e.release_date.slice(0,4)}</span>
              <span class="home-film-rating">${e.vote_average.toFixed(1)}</span>
            </p>
          </div>
        </li>`});n.classList.add("visually-hidden"),c.innerHTML=r.join("")}catch(e){console.error("Error fetching data:",e)}})(),i("7UJs8"),i("hHD3f");const d=document.querySelector(".to-top");window.addEventListener("scroll",()=>{if(document.querySelector("[data-modal]:not(.film-details-is-hidden)")){d.classList.remove("active");return}window.scrollY>215?d.classList.add("active"):d.classList.remove("active")}),document.body.addEventListener("click",e=>{e.target.closest("[data-modal-open]")&&d.classList.remove("active")}),document.addEventListener("click",e=>{let t=e.target.closest(".film-details-close"),a=document.querySelector("[data-modal]");(t||e.target===a)&&window.scrollY>215&&d.classList.add("active")}),i("cB4zx"),i("2AKVI"),i("46SdE");
//# sourceMappingURL=index.262e2ab3.js.map
