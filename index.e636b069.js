function e(e){return e&&e.__esModule?e.default:e}var t=globalThis,a={},s={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in a)return a[e].exports;if(e in s){var t=s[e];delete s[e];var i={id:e,exports:{}};return a[e]=i,t.call(i.exports,i,i.exports),i.exports}var n=Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){s[e]=t},t.parcelRequired7c6=i),i.register,i("dgb2p"),i("kBG4Y"),i("4boOf"),i("40lI0"),i("bMpwc");var n=i("hGVxz"),l=i("dgb2p");async function d(e){let t;let a=document.querySelector(".loader-container"),s=document.querySelector(".home-film-list"),i=e.data.results;console.log(i),a.classList.remove("visually-hidden");let n=await (0,l.getGenres)(),d={};n.data.genres.forEach(e=>{d[e.id]=e.name});let o=i.map(e=>{let a=e.genre_ids.map(e=>d[e]).slice(0,2).join(", ");return t=null!=e.poster_path?`https://image.tmdb.org/t/p/original/${e.poster_path}`:"../image/noImage.jpg",`
        <li class="home-film-item" data-index="${e.id}" data-modal-open>
          <img class="home-film-image" src="${t}" alt="${e.title}">
          <div class="home-film-details">
            <h2 class="home-film-title">${e.title}</h2>
            <p class="home-film-info">
              <span class="home-film-type">${a}</span> |
              <span class="home-film-year">${e.release_date.slice(0,4)}</span>
              <span class="home-film-rating">${e.vote_average.toFixed(1)}</span>
            </p>
          </div>
        </li>`});a.classList.add("visually-hidden"),s.innerHTML=o.join("")}const o=async(e=1,t)=>{try{let a=await (0,n.default).get(`https://api.themoviedb.org/3/movie/popular?api_key=c2f18aa0c4ee94c87f87834077fd721a&language=en-EN&per_page=20&page=${e}`);d(a),e=a.data.page,"function"==typeof t&&t(e,500)}catch(e){console.error("Error fetching data:",e)}};o();const c=document.getElementById("prev"),r=document.getElementById("next"),m=document.getElementById("pagination");let p=1;function u(e){m.innerHTML="";let t=document.createDocumentFragment(),a=f("1",1);if(1===e&&a.classList.add("active"),a.classList.add("pagination-button"),t.appendChild(a),e>2){let e=document.createElement("span");e.textContent="...",e.classList.add("dots"),e.classList.add("pagination-span"),t.appendChild(e)}for(let a=Math.max(2,e-2);a<=Math.min(e+2,499);a++){let s=f(a.toString(),a);a===e&&s.classList.add("active"),t.appendChild(s),s.classList.add("pagination-button")}if(e<499){let e=document.createElement("span");e.textContent="...",e.classList.add("dots"),e.classList.add("pagination-span"),t.appendChild(e)}let s=f("500",500);500===e&&s.classList.add("active"),t.appendChild(s),s.classList.add("pagination-button"),m.appendChild(t),e>1?c.classList.remove("disabled"):c.classList.add("disabled"),500===e?r.classList.add("disabled"):r.classList.remove("disabled")}function f(e,t){let a=document.createElement("button");return a.textContent=e,a.addEventListener("click",()=>{g(t),window.scrollTo(0,0)}),a}async function g(e){p=e,o(e,h)}function h(e){u(e)}r.addEventListener("click",()=>{p<500&&(g(p+1),window.scrollTo(0,0))}),c.addEventListener("click",()=>{p>1&&(g(p-1),window.scrollTo(0,0))}),u(1),i("7UJs8"),i("hHD3f");const v=document.querySelector(".to-top");window.addEventListener("scroll",()=>{if(document.querySelector("[data-modal]:not(.film-details-is-hidden)")){v.classList.remove("active");return}window.scrollY>215?v.classList.add("active"):v.classList.remove("active")}),document.body.addEventListener("click",e=>{e.target.closest("[data-modal-open]")&&v.classList.remove("active")}),document.addEventListener("click",e=>{let t=e.target.closest(".film-details-close"),a=document.querySelector("[data-modal]");(t||e.target===a)&&window.scrollY>215&&v.classList.add("active")}),i("cB4zx");var L=i("lzX4I"),l=i("dgb2p");const y=document.querySelector("#search-form"),b=document.querySelector(".errorText");y.addEventListener("submit",t=>{t.preventDefault(),""==y.elements.searchQuery.value.trim()?e(L).Notify.warning("Enter some text..."):(0,l.fetchFilmsByQuery)(y.elements.searchQuery.value.trim().split(" ").join("%20"),1).then(t=>{0==t.data.total_results?b.classList.remove("hiddenVisibility"):(b.classList.add("hiddenVisibility"),e(L).Notify.success(`Znaeziono: ${t.data.total_results}`),d(t))}).catch(e=>{})}),i("2AKVI"),i("46SdE");
//# sourceMappingURL=index.e636b069.js.map
